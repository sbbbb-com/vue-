<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>01-块级作用域</title>
</head>
<body>

<button>按钮1</button>
<button>按钮2</button>
<button>按钮3</button>
<button>按钮4</button>
<button>按钮5</button>

<script>
  //ES5之前var没有块级作用域，而let是有块级作用域的,
  //ES5之前因为if和for都没有块级作用域的概念，所以在很多时候，
  // 我们都必须借助于function的作用域来解决应用外面变量的问题
  //ES6中 ，加入了let 在if for中有块级作用域
  //1.变量作用域 变量在什么范围中是可用的
/*  {
    var name='test';
    console.log(name)
  }
  console.log(name+'大括号外面');*/

  //2.没有块级作用域引起问题  if的块级引起的问题
/*  var func;
  if (true){
    var name='test!';
    //定义函数
    func=function () {
      console.log(name+'函数引用');
    };

    //使用函数
    //func();
  }
  name='test22'
  func();
  //console.log(name);*/

  //3.for的块级引起的问题
  /*var btns=document.getElementsByTagName('button');
  for (var i = 0; i <btns.length; i++) {
    btns[i].addEventListener('click',function () {
      console.log('第' + i + '个按钮 被点击');
    })
  }*/

  //传统解决办法
  //为什么闭包可以解决问题？？ 因为函数是一个作用域！
  /*var btns=document.getElementsByTagName('button');
  for (var i = 0; i < btns.length; i++) {
    //闭包
    (function (index) {
      btns[i].addEventListener('click',function () {
        console.log('第' + index + '个按钮 被点击');
      })
    })/!*调用闭包*!/(i)
  }*/

  //使用es6 的const
  const btns=document.getElementsByTagName('button');
  for (let i = 0; i < btns.length; i++) {
    btns[i].addEventListener('click',function () {
      console.log('第' + i + '个按钮 被点击');
    })
  }

</script>

</body>
</html>