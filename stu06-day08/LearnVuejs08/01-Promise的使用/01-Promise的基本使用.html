<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>promise的基本使用</title>
</head>
<body>


<script>


  //1.使用setTimeout
  /*setTimeout(()=>{
    console.log("hello word")
  },1000/!*延迟时间*!/)*/


  /*new Promise(函数)*/
  /**
   * resolve : 解决
   * reject  ：拒绝
   * resolve, reject 本身也是个函数
   *
   * 链式编程
   */
  // new Promise((resolve, reject) => {
  //
  //   //第一次网络请求
  //   setTimeout(() => {
  //     console.log("第一次网络请求 ");
  //     resolve();
  //   }, 1000/*延迟时间*/)
  // }).then(()=>{
  //   //第一次拿到结果的处理代码
  //   console.log("1hello world");
  //   console.log("2hello world");
  //   console.log("3hello world");
  //   console.log("4hello world");
  //   console.log("5hello world");
  //   console.log("6hello world");
  //
  //  return  new Promise((resolve, reject)=>{
  //
  //    //第二次网络请求的代码
  //    setTimeout(()=>{
  //
  //      resolve();
  //    },1000)
  //   }).then(()=>{
  //
  //     //第二次处理的代码
  //     console.log("1hello world");
  //     console.log("2hello world");
  //     console.log("3hello world");
  //     console.log("4hello world");
  //     console.log("5hello world");
  //     console.log("6hello world");
  //
  //     return new Promise((resolve, reject)=>{
  //
  //       //第三次网络请求的代码
  //
  //       setTimeout(()=>{
  //         resolve()
  //       },1000)
  //     })
  //   })
  // }).then(()=>{
  //
  //   //第三次处理的代码
  //   console.log("1hello world");
  //   console.log("2hello world");
  //   console.log("3hello world");
  //   console.log("4hello world");
  //   console.log("5hello world");
  //   console.log("6hello world");
  // })

  //什么情况下 会用到promise？ 一般情况下，是有异步操作时，使用promise对这个异步操作进行封装
  // new -> 构造函数（1.保存了一些状态信息，2.执行传入的函数）
  //在执行传入的回调函数时，会传入 resolve, reject，本身又是函数
  new Promise((resolve, reject)=>{
    setTimeout(()=>{
      //上面异步（网络请求）成功的时候调用的方法
      //resolve("hello world");/*将异步返回的data传入到下面的then里面*/

      //失败的时候调用的方法
      reject("error message!!");
    })
  },1000).then((data)=>{

    //1. 一堆处理代码在此处理
    console.log(data);
    console.log(data);
    console.log(data);
    console.log(data);
  }).catch((err)=>{ /*处理错误的异常信息 对应上面的reject*/
    console.log(err);
  })

</script>
</body>
</html>